const letter=document.querySelector(".modal-letter"),letterOpenButton=document.querySelector(".contacts__link"),letterCloseButton=letter.querySelector(".modal-close"),letterInputName=letter.querySelector(".letter-form__input--name"),letterInputEmail=letter.querySelector(".letter-form__input--email"),letterTextArea=letter.querySelector(".letter-form__textarea"),letterForm=letter.querySelector(".letter-form");let isStorageSupport=!0,storage="";try{storage=localStorage.getItem("name")}catch(e){isStorageSupport=!1}letterOpenButton.addEventListener("click",function(e){e.preventDefault(),blackout.classList.add("active"),letter.classList.add("modal-show"),storage?(letterInputName.value=storage,letterInputEmail.focus()):letterInputName.focus()}),letterCloseButton.addEventListener("click",function(e){blackout.classList.remove("active"),letter.classList.remove("modal-show"),letter.classList.remove("modal-error")}),window.addEventListener("keydown",function(e){27===e.keyCode&&letter.classList.contains("modal-show")&&(e.preventDefault(),blackout.classList.remove("active"),letter.classList.remove("modal-show"),letter.classList.remove("modal-error"))}),letterForm.addEventListener("submit",function(e){letterInputName.value&&letterInputEmail.value&&letterTextArea.value?isStorageSupport&&localStorage.setItem("name",letterInputName.value):(e.preventDefault(),letter.classList.remove("modal-error"),letter.offsetWidth=letter.offsetWidth,letter.classList.add("modal-error"))});const map=document.querySelector(".modal-map"),mapOpenButton=document.querySelector(".contacts__map"),mapCloseButton=map.querySelector(".modal-close");mapOpenButton.addEventListener("click",function(e){e.preventDefault(),blackout.classList.add("active"),map.classList.add("modal-show")}),mapCloseButton.addEventListener("click",function(e){blackout.classList.remove("active"),map.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&map.classList.contains("modal-show")&&(e.preventDefault(),blackout.classList.remove("active"),map.classList.remove("modal-show"))});const servicesItems=document.querySelectorAll(".tabs-caption__item"),servicesItemsContent=document.querySelectorAll(".tabs-content__item");for(let e=0;e<servicesItems.length;e++)servicesItems[e].addEventListener("click",function(t){t.preventDefault(),servicesItems.forEach(e=>{e.classList.remove("tabs-caption__item--active")}),servicesItems[e].classList.add("tabs-caption__item--active"),servicesItemsContent.forEach(e=>{e.classList.remove("tabs-content__item--active")}),servicesItemsContent[e].classList.add("tabs-content__item--active")});const sliderPrevButton=document.querySelector(".advantages-controls__item:first-child"),sliderNextButton=document.querySelector(".advantages-controls__item:last-child"),sliderItems=document.querySelectorAll(".advantages-slide"),sliderPagination=document.querySelectorAll(".advantages-pagination__item");sliderPrevButton.addEventListener("click",function(){for(let e=0;e<sliderItems.length;e++){if(0==e&&sliderItems[0].classList.contains("advantages-slide--active")){sliderItems[0].classList.remove("advantages-slide--active"),sliderItems[sliderItems.length-1].classList.add("advantages-slide--active"),sliderPagination[0].classList.remove("advantages-pagination__item--active"),sliderPagination[sliderPagination.length-1].classList.add("advantages-pagination__item--active");break}if(sliderItems[e].classList.contains("advantages-slide--active")){sliderItems[e].classList.remove("advantages-slide--active"),sliderItems[e-1].classList.add("advantages-slide--active"),sliderPagination[e].classList.remove("advantages-pagination__item--active"),sliderPagination[e-1].classList.add("advantages-pagination__item--active");break}}}),sliderNextButton.addEventListener("click",function(){for(let e=0;e<sliderItems.length;e++){if(e==sliderItems.length-1&&sliderItems[sliderItems.length-1].classList.contains("advantages-slide--active")){sliderItems[sliderItems.length-1].classList.remove("advantages-slide--active"),sliderItems[0].classList.add("advantages-slide--active"),sliderPagination[sliderPagination.length-1].classList.remove("advantages-pagination__item--active"),sliderPagination[0].classList.add("advantages-pagination__item--active");break}if(sliderItems[e].classList.contains("advantages-slide--active")){sliderItems[e].classList.remove("advantages-slide--active"),sliderItems[e+1].classList.add("advantages-slide--active"),sliderPagination[e].classList.remove("advantages-pagination__item--active"),sliderPagination[e+1].classList.add("advantages-pagination__item--active");break}}});for(let e=0;e<sliderPagination.length;e++)sliderPagination[e].addEventListener("click",function(){sliderPagination.forEach(e=>{e.classList.remove("advantages-pagination__item--active")}),sliderPagination[e].classList.add("advantages-pagination__item--active"),sliderItems.forEach(e=>{e.classList.remove("advantages-slide--active")}),sliderItems[e].classList.add("advantages-slide--active")});const success=document.querySelector(".modal-success"),successOpenButton=document.querySelectorAll(".buy"),successCloseButton=success.querySelector(".modal-close"),successContinueButton=success.querySelector(".modal-success__button"),blackout=document.querySelector(".blackout"),cart=document.querySelector(".header__cart");let cartNum=0;const bookmarks=document.querySelector(".header__bookmarks"),bookmarksButton=document.querySelectorAll(".bookmarks");let bookmarksNum=0;for(let e=0;e<successOpenButton.length;e++)successOpenButton[e].addEventListener("click",function(e){e.preventDefault(),blackout.classList.add("active"),success.classList.add("modal-show"),cartNum++,cart.textContent="Корзина: "+cartNum,cart.classList.add("header__cart--active")});successCloseButton.addEventListener("click",function(e){blackout.classList.remove("active"),success.classList.remove("modal-show")}),successContinueButton.addEventListener("click",function(e){blackout.classList.remove("active"),success.classList.remove("modal-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&success.classList.contains("modal-show")&&(e.preventDefault(),blackout.classList.remove("active"),success.classList.remove("modal-show"))});for(let e=0;e<bookmarksButton.length;e++)bookmarksButton[e].addEventListener("click",function(e){e.preventDefault(),bookmarksNum++,bookmarks.textContent="Закладки: "+bookmarksNum});
